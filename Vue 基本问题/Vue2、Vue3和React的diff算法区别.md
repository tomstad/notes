#面试题 

## 介绍diff算法
---
diff算法用来对比新旧的vdom，得出一个需要更新的dom；

- diff算法很早就存在
- diff算法应用很广泛，例如github的pull request中的代码diff
- 如果严格diff两棵树，时间复杂度O(n^3)，不可用



## Tree diff的优化
---
vue和react都对diff算法做了优化的，比较粗暴一些
不管怎么优化都是想着尽量的去减少dom操作

- 只对比同级，不跨级比较
- tag不相同，直接删除重建（不会对比内部细节）
- 子节点通过key区分


## React diff
---
仅右移
- 遍历Old存下对应下标
- 遍历New存下对应下标
- 如果对比new的下标比old的下标大，可以动。然后往右移
![[Pasted image 20230920193029.png]]



## vue2 diff
---
双端对比

四个指针相互比较，比较完成后往中间移动，四个指针都移到中间了，代表比较完成



## Vue3
---
最长递增子序列
是对Vue2 diff的一个优化，较少中间的对比

找出那些不得不操作的地方来

![[Pasted image 20230920194327.png]]